﻿@using Microsoft.AspNetCore.Identity
@inject SignInManager<CondoSphere.Data.User> SignInManager
@inject UserManager<CondoSphere.Data.User> UserManager

@{
    ViewData["Title"] = "Home";
    var user = User.Identity.IsAuthenticated ? await UserManager.GetUserAsync(User) : null;
    var role = user != null ? (await UserManager.GetRolesAsync(user)).FirstOrDefault() : null;
}

<section id="hero" class="hero">
    <!-- ... mantém seu código do carousel ... -->
</section>

<section id="features" class="section features">
    <div class="container">
        <div class="row gy-4">

            @if (role == "Admin" || role == "Manager")
            {
                <div class="col-md-6 col-lg-3">
                    <div class="features-item">
                        <i class="bi bi-building"></i>
                        <h3>
                            <a asp-controller="Condominiums" asp-action="Index">Condominiums</a>
                        </h3>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3">
                    <div class="features-item">
                        <i class="bi bi-wallet2"></i>
                        <h3>
                            <a asp-controller="Quotas" asp-action="Index">Quotas and Payments</a>
                        </h3>
                    </div>
                </div>
            }

            @if (role == "Admin" || role == "Manager" || role == "Resident")
            {
                <div class="col-md-6 col-lg-3">
                    <div class="features-item">
                        <i class="bi bi-people"></i>
                        <h3>
                            <a asp-controller="Meetings" asp-action="Index">Meetings</a>
                        </h3>
                    </div>
                </div>

                <div class="col-md-6 col-lg-3">
                    <div class="features-item">
                        <i class="bi bi-bell"></i>
                        <h3>
                            <a asp-controller="Notifications" asp-action="Index">Notifications</a>
                        </h3>
                    </div>
                </div>
            }
        </div>
    </div>
</section>
@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}